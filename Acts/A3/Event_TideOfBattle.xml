<Profile>
  <Name>Event_TideOfBattle</Name>
  <KillMonsters>True</KillMonsters>
  <PickupLoot>true</PickupLoot>
  <GameParams act="OpenWorld" resumeFromSave="False" isPrivate="True" numGames="-1" />

  <Order>
    <If condition="HasQuest(346182)">

      <While condition="CurrentWorldId != 95804 ">
        <UseWaypoint questId="1" waypointNumber="31" />
        <WaitTimer questId="1" stepId="1" waitTime="2500"/>
      </While>

      <If condition="CurrentWorldId == 95804">
        <SafeMoveTo questId="346182" stepId="2" x="4168" y="395" z="-2" pathPrecision="5" pathPointLimit="250" statusText="" />
        <SafeMoveTo questId="346182" stepId="2" x="4104" y="463" z="0" pathPrecision="5" pathPointLimit="250" statusText="" />
        <TrinityExploreDungeon questId="346182" stepId="1" until="ObjectFound" actorId="207272" boxTolerance="0.40" boxSize="15" />
        <WaitTimer questId="1" stepId="2" waitTime="500" />
        <MoveToActor questId="346182" stepId="1" actorId="207272" interactRange="8"  pathPrecision="5" pathPointLimit="250"  />
        <While condition="ActorExistsAt(207272, Me.Position.X, Me.Position.Y, Me.Position.Z, 150)">
          <MoveToActor questId="346182" stepId="2" actorId="207272" interactRange="8" pathPrecision="5" pathPointLimit="250"  />
        </While>
       
        <WaitTimer questId="1" stepId="2" waitTime="500" />
      </If>
    </If>

    <LoadProfile file="act3.xml" />
  </Order>
</Profile>