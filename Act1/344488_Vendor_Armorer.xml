<!-- X1_Bounty_A1_Highlands_Event_Vendor_Armorer (344488)  -->
<Profile>
<Name>Scavenged Scabbard</Name>
<KillMonsters>True</KillMonsters>
<PickupLoot>true</PickupLoot>
<GameParams act="OpenWorld" resumeFromSave="False" isPrivate="True" numGames="-1" />
<Order>

	<If condition="Me.IsInTown==False">   
		<TrinityLoadProfile nodelay="True" profile="act1.xml" />       
	</If>

	<If condition="Me.IsInTown ">
		<!--Act 1 WP-->
		<If condition="CurrentWorldId == 332336">
			<UseWaypoint questId="1" stepId="1" actorId="223757" x="401.7305" y="555.0093" z="24.90835" waypointNumber="13"/>
		</If>
		<!--Act 2 WP-->
		<If condition="CurrentWorldId == 161472">
			<UseWaypoint questId="1" stepId="1" actorId="6442" x="324.8699" y="291.0312" z="1.645629" waypointNumber="13"/> 
		</If>
		<!--Act 3/4 WP-->
		<If condition="CurrentWorldId == 172909">
			<UseWaypoint questId="1" stepId="1" actorId="6442" x="402.5403" y="414.342" z="1.5338" waypointNumber="13"/> 
		</If>
		<!--Act 4 WP-->
		<If condition="CurrentWorldId == 304235">
			<UseWaypoint questId="1" stepId="1" actorId="6442" x="557.5455" y="525.3394" z="2.796465" waypointNumber="13"/> 
		</If>
		<WaitTimer questId="1" stepId="1" waitTime="1000" />
	</If>

    <!-- Only do the thing if we have the bounty for it -->
	<HaveBounty questId="344488">	

					<LogMessage quest="1" step="1" output="have bounty" />	

	
		<!--  Southern Highlands -->
		<If condition="CurrentLevelAreaId == 93632">
		
		<LogMessage quest="1" step="1" output="s./highlands" />	
		
			<!-- Tower seems to always be in the same spot maybe???? -->
			<SafeMoveTo questId="1" stepId="1" x="2334" y="3886" z="10" pathPrecision="5" pathPointLimit="250" statusText="" /> 

<LogMessage quest="1" step="1" output="moveto finishned" />				
			
			<MoveToMapMarker questId="1" stepId="1" exitNameHash="497382903" destinationWorldId="82076" interactRange="20"  />		
			<!--  Search for Watch Tower
			<TrinityExploreDungeon stayAfterBounty="False" questId="1" stepId="1" boxTolerance="0.01" boxSize="25" until="ExitFound" exitNameHash="497382903" ignoreMarkers="False">
				<PrioritizeScenes>
					<PriorityScene sceneName="Exit" />
				</PrioritizeScenes>
				<IgnoreScenes>
				</IgnoreScenes>						
			</TrinityExploreDungeon>			
			<MoveToMapMarker questId="1" stepId="1" exitNameHash="497382903" destinationWorldId="82076" interactRange="20"  />			
		-->
		</If>
		
		<LogMessage quest="1" step="1" output="ugghh" />			
		
		<!--  Watch Tower Level 1 -->
		<If condition="CurrentLevelAreaId == 82326">
		
			<!--  Search for Watch Tower -->
			<TrinityExploreDungeon stayAfterBounty="False" questId="1" stepId="1" boxTolerance="0.01" boxSize="25" until="ExitFound" exitNameHash="497382904" ignoreMarkers="False">
				<PrioritizeScenes>
					<PriorityScene sceneName="Exit" />
				</PrioritizeScenes>				
			</TrinityExploreDungeon>			
			<MoveToMapMarker questId="1" stepId="1" markerNameHash="497382904" actorId="176001" interactRange="20" pathPrecision="5" pathPointLimit="250" isPortal="True" destinationWorldId="82313" statusText="" /> 	
		
		</If>		
		
		<!--  Watch Tower Level 2 -->
		<If condition="CurrentLevelAreaId == 82327">
		
		
		
			<!--  Talk to Vendor -->
			<MoveToActor questId="312429" stepId="2" actorId="81609" interactRange="8" name="A1_UniqueVendor_Armorer-3541"  pathPrecision="5" pathPointLimit="250" statusText="" /> 
			<WaitTimer questId="1" stepId="1" waitTime="500" />

			<!-- Find and Kill the Monster who stole the poor guys scabbard  -->
			<TrinityExploreDungeon stayAfterBounty="False" questId="1" stepId="1" until="ObjectFound" actorId="104247" pathPrecision="10" boxTolerance="0.01" boxSize="25" objectDistance="20" >
				<AlternateActors>
					<AlternateActor actorId="222404" objectDistance="10" /> <!-- scabbard -->
				</AlternateActors>	
			</TrinityExploreDungeon>			
			<WaitTimer questId="1" stepId="1" waitTime="500" />	
			
			<!-- Pick up the scabbard -->
			<MoveToActor questId="1" stepId="1" x="528" y="274" z="0" actorId="222404" interactRange="9" name="a1dun_highlands_JeweledScabbard-4736"  pathPrecision="5" pathPointLimit="250" statusText="" /> 

			<!--  Talk to Vendor -->	
			<MoveToActor questId="1" stepId="1" actorId="81609" interactRange="8" name="A1_UniqueVendor_Armorer-3541"  pathPrecision="5" pathPointLimit="250" statusText="" /> 
			<WaitTimer questId="1" stepId="1" waitTime="1000" />		
			
			<HaveBounty questId="344488">
				<LogMessage quest="1" step="1" output="Maybe something went wrong...fully exploring dungeon" />	
				<MoveToActor questId="1" stepId="1" actorId="81609" interactRange="8" name="A1_UniqueVendor_Armorer-3541"  pathPrecision="5" pathPointLimit="250" statusText="" /> 				
				<TrinityExploreDungeon stayAfterBounty="False" questId="1" stepId="1" until="FullyExplored" boxTolerance="0.01" boxSize="25" />
				<MoveToActor questId="1" stepId="1" actorId="222404" interactRange="9" name="a1dun_highlands_JeweledScabbard-4736"  pathPrecision="5" pathPointLimit="250" statusText="" /> 			
				<MoveToActor questId="1" stepId="1" actorId="81609" interactRange="8" name="A1_UniqueVendor_Armorer-3541"  pathPrecision="5" pathPointLimit="250" statusText="" /> 				
			</HaveBounty>	
			
		</If>			

	</HaveBounty>
	
	<LogMessage quest="1" step="1" output="X1_Bounty_A1_Highlands_Event_Vendor_Armorer (344488) seems to be finished" />	
	
    <!-- Portal Home -->
    <TrinityTownPortal questId="1" stepId="2" />
    <WaitTimer questId="1" stepId="2" waitTime="2500" />
	<LoadProfile nodelay="True" file="act1.xml" />
	
</Order>
</Profile>