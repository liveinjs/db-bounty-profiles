<!-- X1_Bounty_A1_FesteringWoods_Event_Last_Stand (345502) -->
<Profile>
<Name>Last Stand of the Ancients</Name>
<KillMonsters>True</KillMonsters>
<PickupLoot>true</PickupLoot>
<GameParams act="OpenWorld" resumeFromSave="False" isPrivate="True" numGames="-1" />
<Order>

	<If condition="Me.IsInTown==False">   
		<TrinityLoadProfile nodelay="True" file="act1.xml" />       
	</If>

	<If condition="Me.IsInTown ">
		<!--Act 1 WP-->
		<If condition="CurrentWorldId == 332336">
			<UseWaypoint questId="1" stepId="1" actorId="223757" x="401.7305" y="555.0093" z="24.90835" waypointNumber="10"/>
		</If>
		<!--Act 2 WP-->
		<If condition="CurrentWorldId == 161472">
			<UseWaypoint questId="1" stepId="1" actorId="6442" x="324.8699" y="291.0312" z="1.645629" waypointNumber="10"/> 
		</If>
		<!--Act 3/4 WP-->
		<If condition="CurrentWorldId == 172909">
			<UseWaypoint questId="1" stepId="1" actorId="6442" x="402.5403" y="414.342" z="1.5338" waypointNumber="10"/> 
		</If>
		<!--Act 4 WP-->
		<If condition="CurrentWorldId == 304235">
			<UseWaypoint questId="1" stepId="1" actorId="6442" x="557.5455" y="525.3394" z="2.796465" waypointNumber="10"/> 
		</If>
		<WaitTimer questId="1" stepId="1" waitTime="1000" />
	</If>

	<LogMessage quest="1" step="1" output="started" /> 
	
    <!-- Only do the thing if we have the bounty for it -->
	<HaveBounty questId="345502">

		<!--  Festering Woods  -->
		<If condition="CurrentLevelAreaId == 19953">

			<!-- Search for the corpses near the thing -->			
			<TrinityExploreDungeon stayAfterBounty="False" questId="1" stepId="1" until="ObjectFound" actorId="188119" pathPrecision="40" boxTolerance="0.01" boxSize="25"  />				
			<MoveToActor questId="312429" stepId="2" actorId="102008" interactRange="11" name="Temp_Story_Trigger_Enabled-6907"  pathPrecision="5" pathPointLimit="250" statusText="" /> 						
			<UseObject questId="1" stepId="1" actorId="102008" isPortal="False" />		
			
			<!-- Look for stuff to kill -->
			<WaitTimer questId="1" stepId="1" waitTime="20000" />				
			
			<!-- Try to find the stragglers - move to column at base -->
			<TrinityExploreDungeon stayAfterBounty="False" questId="1" stepId="1" until="ObjectFound" actorId="105303" pathPrecision="5" boxTolerance="0.01" boxSize="25"  />			
			<WaitTimer questId="1" stepId="1" waitTime="1000" />	
			
			<!-- Try to find ghouls -->			
			<MoveToActor questId="1" stepId="1" actorId="4201" interactRange="8" name=""  pathPrecision="5" pathPointLimit="250" statusText="" /> 
			<WaitTimer questId="1" stepId="1" waitTime="1000" />
			
			<!-- Try to find ghosts -->		
			<MoveToActor questId="1" stepId="1" actorId="136943" interactRange="8" name=""  pathPrecision="5" pathPointLimit="250" statusText="" /> 
			<WaitTimer questId="1" stepId="1" waitTime="1000" />
						
			<!-- Hack to make sure we found it -->
			<HaveBounty questId="345502">
				<LogMessage quest="1" step="1" output="hmmm should be finished by now.. exploring entire area." />	
				<TrinityExploreDungeon stayAfterBounty="False" questId="1" stepId="1" until="FullyExplored" boxTolerance="0.01" boxSize="25" />
				<MoveToActor questId="1" stepId="2" actorId="188119" />
			</HaveBounty>		
			
		</If>
	
	</HaveBounty>

	<LogMessage quest="1" step="1" output="X1_Bounty_A1_FesteringWoods_Event_Last_Stand (345502) seems to be finished" />	
	
    <!-- Portal Home -->
    <TrinityTownPortal questId="1" stepId="2" />
    <WaitTimer questId="1" stepId="2" waitTime="2500" />
	<LoadProfile nodelay="True" file="act1.xml" />
	
	
</Order>
</Profile>