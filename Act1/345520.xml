<Profile>

<!-- Should work. -->
<Name>Clear Warriors Rest</Name>

<KillMonsters>True</KillMonsters>
<PickupLoot>true</PickupLoot>
<Order>
<If condition="Me.IsInTown==False and not CurrentLevelAreaId == 19953">   
<UseTownPortal questId="1" />       
</If>
<If condition="Me.IsInTown ">
	<!--Act 1 WP-->
	<If condition="CurrentWorldId == 332336">
		<UseWaypoint questId="1" stepId="1" actorId="223757" x="401.7305" y="555.0093" z="24.90835" waypointNumber="10"/>
	</If>
	<!--Act 2 WP-->
	<If condition="CurrentWorldId == 161472">
		<UseWaypoint questId="1" stepId="1" actorId="6442" x="324.8699" y="291.0312" z="1.645629" waypointNumber="10"/> 
	</If>
	<!--Act 3/4 WP-->
	<If condition="CurrentWorldId == 172909">
		<UseWaypoint questId="1" stepId="1" actorId="6442" x="402.5403" y="414.342" z="1.5338" waypointNumber="10"/> 
	</If>
	<!--Act 4 WP-->
	<If condition="CurrentWorldId == 304235">
		<UseWaypoint questId="1" stepId="1" actorId="6442" x="557.5455" y="525.3394" z="2.796465" waypointNumber="10"/> 
	</If>
	<WaitTimer questId="1" stepId="1" waitTime="1000" />
</If>
    <!-- Look for him -->
	<HaveBounty questId="345520">
		<If condition="CurrentLevelAreaId == 19953">
			<WaitTimer questId="1" stepId="2" waitTime="1000" />
			<!--  Warriors Rest #1 -->
			<If condition="CurrentLevelAreaId == 19953">
				<MoveToActor questId="1" stepId="2" actorId="176008" isPortal="True" destinationWorldId="60393" x="404" y="678" z="15" maxSearchDistance="50" />
				<WaitTimer questId="1" stepId="2" waitTime="1000" />
			</If>

			<!-- Warrior's Rest #2 -->
			<If condition="CurrentLevelAreaId == 19953">
				<MoveToActor questId="1" stepId="2" actorId="176008" isPortal="True" destinationWorldId="60393" x="522" y="665" z="15" maxSearchDistance="50" />
				<WaitTimer questId="1" stepId="2" waitTime="1000" />
			</If>

			<!-- Warrior's Rest #3 -->
			<If condition="CurrentLevelAreaId == 19953">
				<MoveToActor questId="1" stepId="2" actorId="176008" isPortal="True" destinationWorldId="60393" x="282" y="665" z="15" maxSearchDistance="50" />
				<WaitTimer questId="1" stepId="2" waitTime="1000" />
			</If>
			<!-- Explore the dungeon.-->
			<HaveBounty questId="345520">
				<LogMessage quest="1" step="1" output="Clearing." />
				<TrinityExploreDungeon stayAfterBounty="False" questId="1" stepId="2" until="FullyExplored" boxTolerance="0.10" boxSize="15" />
			</HaveBounty>
			<MoveToActor questId="1" stepId="2" actorId="176003" />
		</If>
	</HaveBounty>

    <!-- Portal Home -->
    <TrinityTownPortal questId="1" stepId="2" />
    <WaitTimer questId="1" stepId="2" waitTime="2500" />
	<LoadProfile file="../profile.xml" />
</Order>
</Profile>