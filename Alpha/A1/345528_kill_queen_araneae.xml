<!-- X1_Bounty_A1_SpiderCaves_Kill_QueenAraneae (345528) -->
<Profile>
<Name>Kill Queen Araneae</Name>
<KillMonsters>True</KillMonsters>
<PickupLoot>True</PickupLoot>
<GameParams act="OpenWorld" resumeFromSave="False" isPrivate="True" numGames="-1" />
<Order>

	<If condition="HasQuest(345528)">

		<!-- Settings -->
		<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('Zerg')"><ToggleTargeting questId="1" combat="False" /></If>			
	
		<!-- Caverns of Araneae Waypoint -->	
		<While condition="CurrentWorldId != 180550">			
			<UseWaypoint waypointNumber="12" questId="1"/>	
			<WaitTimer questId="1" stepId="2" waitTime="6000" />	
		</While>	
		
		<!-- Safety wait here because of DB bug with WHILE loops ignoring wait tags on subsequent loops -->
		<If condition="CurrentWorldId != 180550">			
			<WaitTimer questId="1" stepId="2" waitTime="3000" />	
		</If>	

		<WaitTimer questId="1" stepId="2" waitTime="3000" />
		
		<!-- Settings -->
		<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('Zerg')"><ToggleTargeting questId="1" combat="False" /></If>			
		
		<!-- Caverns of Araneae -->
		<If condition="CurrentLevelAreaId == 78572">		
		
			<EndChildren when="ObjectiveMarkerFound" distance="1000">			

			
				<TrinityExploreDungeon questId="1" stepId="2" boxTolerance="0.55" boxSize="12" until="ExitFound" exitNameHash="1317387500" ignoreMarkers="False" objectDistance="150">
					<PriorityScenes>
						<PriorityScene sceneName="Exit" />
					</PriorityScenes>				
				</TrinityExploreDungeon>
				<MoveToActor questId="312429" timeout="5000" stepId="2" actorId="183032" MaxSearchDistance="50" isPortal="True" interactRange="20" pathPrecision="5" pathPointLimit="250" destinationWorldId="182976" statusText="" />
				
			
			</EndChildren> 		
		</If>	

		<LogMessage quest="1" output="Moving to Objective Marker" />		
		
		<MoveToMapMarker questId="1" markerNameHash="-1" actorId="0" interactRange="5" pathPrecision="10" interactAttempts="-1" isPortal="False" maxSearchDistance="1050" timeout="60000" />
			
		<MoveToActor questId="312429" timeout="5000" stepId="2" actorId="183032" MaxSearchDistance="50" isPortal="True" interactRange="20" pathPrecision="5" pathPointLimit="250" destinationWorldId="182976" statusText="" />			
			
		<WaitTimer questId="1" stepId="2" waitTime="1000" />			
			
		<If condition="CurrentWorldId == 180550">	

			<TrinityExploreDungeon questId="1" stepId="2" boxTolerance="0.55" boxSize="12" until="ExitFound" exitNameHash="1317387500" ignoreMarkers="False" objectDistance="150">
				<PriorityScenes>
					<PriorityScene sceneName="Exit" />
				</PriorityScenes>				
			</TrinityExploreDungeon>
			<MoveToActor questId="312429" timeout="5000" stepId="2" actorId="183032" MaxSearchDistance="50" isPortal="True" interactRange="20" pathPrecision="5" pathPointLimit="250" destinationWorldId="182976" statusText="" />		
		
		</If>		
			
		<ToggleTargeting questId="1" combat="True" killRadius="45" />			
			
		<!-- Boss Lair -->
		<If condition="CurrentWorldId == 182976">	
			<ToggleTargeting questId="1" combat="True" killRadius="150" />
			<While condition="Me.IsInBossEncounter">
				<WaitTimer questId="1" stepId="2" waitTime="1000" />
			</While>					
		</If>
		
	</If>
	
	<WaitTimer questId="1" stepId="2" waitTime="2000" />		
	<LoadProfile file="act1.xml" />
	
</Order>
</Profile>