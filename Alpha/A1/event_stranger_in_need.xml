<!-- X1_Bounty_A1_LeoricsDungeon_Event_IronMaiden (345546) -->
<Profile>
<Name>A Stranger In Need (345546)</Name>
<KillMonsters>True</KillMonsters>
<GameParams act="OpenWorld" resumeFromSave="False" isPrivate="True" numGames="-1" />
<Order>

	<If condition="HasQuest(345546)">

		<!-- Settings -->
		<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('Zerg')"><ToggleTargeting questId="1" combat="False" /></If>	

		<!-- Halls of Agony 3 Waypoint -->
		<While condition="CurrentWorldId != 58982">			
			<UseWaypoint waypointNumber="16" questId="1"/>	
			<WaitTimer questId="1" stepId="2" waitTime="6000" />	
		</While>	

		<!-- Safety wait here because of DB bug with WHILE loops ignoring wait tags on subsequent loops -->
		<If condition="CurrentWorldId != 58982">		
			<WaitTimer questId="1" stepId="2" waitTime="3000" />	
		</If>	

		<!-- Event -->
		<If condition="CurrentWorldId == 58982">
			<TrinityExploreDungeon questId="1" stepId="2" until="ObjectFound" actorId="221574" boxTolerance="0.10" boxSize="15" ignoreMarkers="False"/> 

			<!-- Initial Iron Maiden -->
			<MoveToActor questId="1" stepId="2" actorId="221574" />
			
			<!-- Sparkly Iron Maiden & Merhan -->
			<While condition="HasQuest(345546) and ActorExistsAt(218071, Me.Position.X, Me.Position.Y, Me.Position.Z, 300)">				
				<MoveToActor questId="345546" stepId="2" actorId="218071"/>								
				<WaitTimer questId="345546" stepId="2" waitTime="2000" />
				<AdvanceConversation numTimes="2" />				
			</While>				
			
		</If>
		
		
	</If>
	
	<WaitTimer questId="1" stepId="2" waitTime="2000" />		
	<LoadProfile file="act1.xml" />
	
</Order>
</Profile>
