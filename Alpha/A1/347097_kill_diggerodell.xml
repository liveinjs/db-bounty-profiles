<!-- Bounty X1_Bounty_A1_Cemetery_Kill_DiggerODell (347097)  -->
<Profile>
<Name>Kill the DiggerODell (347097)</Name>
<KillMonsters>True</KillMonsters>
<PickupLoot>True</PickupLoot>
<GameParams act="OpenWorld" resumeFromSave="False" isPrivate="True" numGames="-1" />
<Order>

    <If condition="HasQuest(347097)">

		<!-- Settings -->
		<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('Zerg')"><ToggleTargeting questId="1" combat="False" /></If>			
	
		<!-- Cemetery of the Forsaken Waypoint -->
		<While condition="CurrentLevelAreaId != 72712 and CurrentLevelAreaId != 19952">			
			<UseWaypoint waypointNumber="7" questId="1"/>	
			<WaitTimer questId="1" stepId="2" waitTime="6000" />	
		</While>
		
		<!-- Safety wait here because of DB bug with WHILE loops ignoring wait tags on subsequent loops -->
		<If condition="CurrentLevelAreaId != 72712">			
			<WaitTimer questId="1" stepId="2" waitTime="3000" />	
		</If>			
		
		<!--  Cemetery of the Forsaken Entrance #1 -->
		<If condition="CurrentWorldId == 71150">		
			<SafeMoveTo questId="1" stepId="2" x="2032" y="1776" z="1" pathPrecision="5" pathPointLimit="250" statusText="" name="Crypt Location North"/>
			<If condition="MarkerExistsAt(-1965109037, 2032.983, 1776.411, 1.434785, 30)">
			  <MoveToMapMarker questId="347097" markerNameHash="-1965109037" actorId="176002" interactRange="7.8" pathPrecision="5" pathPointLimit="250" isPortal="True" destinationWorldId="-1" statusText="" />
			  <WaitTimer questId="1" stepId="2" waitTime="3000" />			  
			</If>		
		</If>
		
		<!--  Cemetery of the Forsaken Entrance #2 -->
		<If condition="CurrentWorldId == 71150">		
			<SafeMoveTo questId="1" stepId="2" x="2233" y="1793" z="-4" pathPrecision="5" pathPointLimit="250" statusText="" name="Crypt Location South"/>
			<If condition="MarkerExistsAt(-1965109037, 2233, 1793, 6, 30)">
			  <MoveToMapMarker questId="347097" markerNameHash="-1965109037" actorId="176002" interactRange="7.8" pathPrecision="5" pathPointLimit="250" isPortal="True" destinationWorldId="-1" statusText="" />
			  <WaitTimer questId="1" stepId="2" waitTime="3000" />			  
			</If>
		</If>	

		<!--  Cemetery of the Forsaken Entrance #3 -->
		<If condition="CurrentWorldId == 71150">
			<SafeMoveTo questId="1" stepId="2" x="2062" y="1950" z="-5" pathPrecision="5" pathPointLimit="250" statusText="" name="Crypt Location East"/>
			<If condition="MarkerExistsAt(-1965109037, 2062, 1950, -5, 30)">
			  <MoveToMapMarker questId="347097" markerNameHash="-1965109037" actorId="176002" interactRange="7.8" pathPrecision="5" pathPointLimit="250" isPortal="True" destinationWorldId="-1" statusText="" />
			  <WaitTimer questId="1" stepId="2" waitTime="3000" />			  
			</If>	
		</If>	
		
		<!--  Cemetery of the Forsaken Entrance #4 -->		
		<If condition="CurrentWorldId == 71150">		
			<SafeMoveTo questId="1" stepId="2" x="2173" y="1941" z="6" pathPrecision="5" pathPointLimit="250" statusText="" name="Crypt Location West"/>
			<If condition="MarkerExistsAt(-1965109037, 2173, 1941, -4, 30)">
			  <MoveToMapMarker questId="347097" markerNameHash="-1965109037" actorId="176002" interactRange="7.8" pathPrecision="5" pathPointLimit="250" isPortal="True" destinationWorldId="-1" statusText="" />
			  <WaitTimer questId="1" stepId="2" waitTime="3000" />
			</If>						
		</If>			
		
		<WaitTimer questId="1" stepId="2" waitTime="3000" />		

		<!--  Defiled Crypt -->
		<If condition="(CurrentWorldId == 72636 or CurrentWorldId == 72637) and HasQuest(347097)">	
			<ToggleTargeting questId="1" combat="True" killRadius="80" />
			<TrinityExploreDungeon questId="1" stepId="2" until="BountyComplete" pathPrecision="20" boxSize="25" boxTolerance="0.10" stayAfterBounty="False"/>
		</If>

    </If>

	<WaitTimer questId="1" stepId="2" waitTime="2000" />
	<LoadProfile file="act1.xml" />
	
</Order>
</Profile>