<Profile>
<Name>Kill Halls of Agony Level 2</Name>
<KillMonsters>True</KillMonsters>
<PickupLoot>True</PickupLoot>
<GameParams act="OpenWorld" resumeFromSave="False" isPrivate="True" numGames="-1" />
<Order>

	<!-- Halls of Agony 3 Waypoint -->
	<While condition="CurrentWorldId != 58982">			
		<UseWaypoint waypointNumber="16" questId="1"/>	
		<WaitTimer questId="1" stepId="2" waitTime="6000" />
	</While>

	<!-- Safety wait here because of DB bug with WHILE loops ignoring wait tags on subsequent loops -->
	<If condition="CurrentWorldId != 58982">			
		<WaitTimer questId="1" stepId="2" waitTime="3000" />	
	</If>	
	
	<!-- Settings -->
	<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('Zerg')"><ToggleTargeting questId="1" combat="False" /></If>				
	
	<EndChildren when="ObjectiveMarkerFound" distance="1000">		
	
		<TrinityExploreDungeon stayAfterBounty="False" questId="1" stepId="2" until="BountyComplete" boxTolerance="0.14" boxSize="14" >
			<IgnoreScenes>
				<IgnoreScene sceneName="Exit" />	
			</IgnoreScenes>
		</TrinityExploreDungeon>		
	
	</EndChildren> 	
	
	<LogMessage quest="1" output="Moving to Objective Marker" />		
	
	<MoveToMapMarker questId="1" markerNameHash="-1" actorId="0" interactRange="5" pathPrecision="10" interactAttempts="-1" isPortal="False" maxSearchDistance="1050" timeout="60000" />
	
	<ToggleTargeting questId="1" combat="True" killRadius="45" />	
		
	<!-- 
	349026: Kill Sotnob		
	-->
	<If condition="
		HasQuest(349026)">				

		<LogMessage quest="1" output="Killing remaining monsters for bounty" />			
		
		<TrinityExploreDungeon stayAfterBounty="False" questId="1" stepId="2" until="BountyComplete" boxTolerance="0.14" boxSize="14" >
			<IgnoreScenes>
				<IgnoreScene sceneName="Exit" />	
			</IgnoreScenes>
		</TrinityExploreDungeon>			
				
	</If>		
	
	<WaitTimer questId="1" stepId="2" waitTime="2000" />		
	<LoadProfile file="act1.xml" />
	
</Order>
</Profile>